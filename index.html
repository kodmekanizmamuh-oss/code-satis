<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CODE STORE</title>
<style>
body{margin:0;font-family:sans-serif;background:#111;color:white;}
header{padding:20px;text-align:center;font-size:32px;background:#222;letter-spacing:1px;}
.container{max-width:1000px;margin:20px auto;padding:20px;background:#222;border-radius:12px;}
button{padding:10px 18px;margin:5px;border:none;border-radius:8px;cursor:pointer;background:#0ff;color:#000;font-weight:700;}
button:hover{background:#0cc;}
.section{display:none;}
.lesson{display:flex;justify-content:space-between;padding:10px;margin:6px 0;background:#000;border-radius:8px;}
.lesson span{cursor:pointer;text-decoration:underline;}
input, select{padding:8px;border-radius:6px;margin:4px;}
footer{text-align:center;padding:15px;background:#222;margin-top:20px;}
</style>
</head>
<body>

<header>💻 CODE STORE</header>

<div class="container">

<div id="home" class="section" style="display:block;text-align:center;">
<h2>Hoşgeldiniz!</h2>
<p>Popüler kodları görüntülemek veya admin girişi yapmak için butonlara tıklayın.</p>
<button onclick="show('codes')">Kodlara Git</button>
<button onclick="show('admin')">Admin Girişi</button>
</div>

<div id="codes" class="section">
<h2>📂 Kod Kategorileri</h2>
<div id="categories"></div>
<div id="codesList"></div>
<button onclick="show('home')">← Ana Sayfaya Dön</button>

<h2>💳 Satın Alma</h2>
<p>IBAN: <span id="iban">TR98000670100000022363236</span> <button onclick="copyIban()">Kopyala</button></p>
<small>Ödeme açıklamasına <i>Satın aldığınız kodun adını yazınız</i>.</small>
</div>

<div id="admin" class="section">
<h2>🔑 Admin Paneli</h2>
<input type="password" id="adminPass" placeholder="Şifreyi gir">
<button onclick="loginAdmin()">Giriş Yap</button>
<p id="loginResult" style="color:red;"></p>
<div id="codeAdd" style="display:none;margin-top:15px;">
<input type="text" id="codeName" placeholder="Kod adı">
<select id="codeCategory">
<option>JavaScript</option><option>Python</option><option>HTML/CSS</option><option>Java</option><option>Office</option>
</select>
<input type="text" id="codeFile" placeholder="Dosya adı (kodlar/ klasörü içinde)">
<button onclick="addCode()">Kod Ekle</button>
</div>
<button onclick="show('home')">← Ana Sayfaya Dön</button>
</div>

</div>

<footer>© 2025 CODE STORE</footer>

<script>
function show(id){document.querySelectorAll('.section').forEach(s=>s.style.display='none');document.getElementById(id).style.display='block';}
function copyIban(){navigator.clipboard.writeText(document.getElementById("iban").innerText).then(()=>alert("IBAN kopyalandı"));}

let codes=[
{kategori:"JavaScript",isim:"To-Do App",dosya:"kodlar/todo.js"},
{kategori:"JavaScript",isim:"Slider Carousel",dosya:"kodlar/slider.js"},
{kategori:"Python",isim:"Web Scraper",dosya:"kodlar/scraper.py"},
{kategori:"Python",isim:"Discord Bot",dosya:"kodlar/discordbot.py"},
{kategori:"HTML/CSS",isim:"Landing Page",dosya:"kodlar/landing.html"},
{kategori:"Java",isim:"Hesap Makinesi",dosya:"kodlar/calculator.java"},
{kategori:"Office",isim:"Excel Dashboard",dosya:"kodlar/excel.xlsx"}
];

function updateCategories(){
const catDiv=document.getElementById("categories");catDiv.innerHTML="";
let cats=[...new Set(codes.map(c=>c.kategori))];
cats.forEach(c=>{let b=document.createElement("button");b.innerText=c;b.onclick=()=>showCodes(c);catDiv.appendChild(b);});}

function showCodes(cat){
const listDiv=document.getElementById("codesList");listDiv.innerHTML="";
codes.filter(c=>c.kategori===cat).forEach(c=>{let div=document.createElement("div");div.className="lesson";
let nameSpan=document.createElement("span");nameSpan.innerText=c.isim;nameSpan.onclick=()=>window.open(c.dosya,"_blank");
let buyBtn=document.createElement("button");buyBtn.innerText="Satın Al / Görüntüle";buyBtn.onclick=()=>window.open(c.dosya,"_blank");
div.appendChild(nameSpan);div.appendChild(buyBtn);listDiv.appendChild(div);});}

function loginAdmin(){
const pass=document.getElementById("adminPass").value;
if(pass==="2332"){document.getElementById("loginResult").style.color="lime";document.getElementById("loginResult").innerText="✅ Giriş başarılı!";document.getElementById("codeAdd").style.display="block";}
else{document.getElementById("loginResult").style.color="red";document.getElementById("loginResult").innerText="❌ Hatalı şifre!";}}

function addCode(){
const name=document.getElementById("codeName").value.trim();const cat=document.getElementById("codeCategory").value;
const file=document.getElementById("codeFile").value.trim();
if(name && file){codes.push({kategori:cat,isim:name,dosya:file});updateCategories();alert("Kod eklendi!");document.getElementById("codeName").value="";document.getElementById("codeFile").value="";}
else{alert("Lütfen kod adı ve dosya adını girin!");}

}

window.onload=()=>updateCategories();
</script>

</body>
</html>
